<nav
  id="navbarToggle"
  class="navbar navbar-primary navbar-expand-sm collapse show"
>
  <a
    class="navbar-brand"
    href="#top"
    aria-expanded="true"
    aria-label="Toggle product navigation"
  >
    <img class="icon" src="assets/images/logo-symbol.png" alt="" />
    <img src="assets/images/logo-name.png" alt="" style="width: 4rem" />
  </a>

  <div class="navbar-nav">
    <div *ngFor="let link of links; let i = index">
      <div *ngIf="!link.subLinks">
        <a
          class="nav-item nav-link"
          *ngIf="!link.externalLink"
          [routerLink]="link.routerLink"
          routerLinkActive="active"
        >
          <i class="icon fa {{ link.iconClass }}"></i>
          {{ link.linkName }}
        </a>
        <a
          class="nav-item nav-link"
          *ngIf="link.externalLink"
          [href]="link.routerLink"
        >
          <i class="icon fa {{ link.iconClass }}"></i>
          {{ link.linkName }}
        </a>
      </div>
      <div
        class="navbar-parent"
        #navbarParent
        *ngIf="link.subLinks"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        (mouseenter)="hover($event, i)"
        (mouseleave)="hovered = null"
      >
        <div
          class="navbar-nav dropdown"
          attr.href="#{{ link.linkName }}"
          data-toggle="collapse"
          aria-controls="navbarToggle"
          role="button"
          aria-expanded="true"
        >
          <span class="nav-item nav-link">
            <i class="icon fa {{ link.iconClass }}" aria-hidden="true"></i>
            {{ link.linkName }}
          </span>
        </div>
        <div
          class="collapse show"
          [attr.id]="link.linkName"
          *ngIf="link.subLinks"
        >
          <ul
            class="navbar-nav"
            #navbarChild
            [ngStyle]="hovered === i ? collapsedSubMenu : 0"
          >
            <li
              class="navbar-sublink-item"
              *ngFor="let subLink of link.subLinks"
            >
              <a
                class="nav-item nav-link"
                *ngIf="!subLink.externalLink"
                [routerLink]="subLink.routerLink"
                routerLinkActive="active"
                data-toggle="tooltip"
                data-placement="right"
                data-condition="truncated"
                title="Alerts"
              >
                <i class="icon fa" aria-hidden="true"></i>
                {{ subLink.linkName }}
              </a>
              <a
                class="nav-item nav-link"
                *ngIf="subLink.externalLink"
                href="http://{{hostname}}{{subLink.routerLink}}"
                data-toggle="tooltip"
                data-placement="right"
                data-condition="truncated"
                title="Alerts"
              >
                <i class="icon fa" aria-hidden="true"></i>
                {{ subLink.linkName }} test
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarToggle"
    aria-controls="navbarToggle"
    aria-expanded="true"
    aria-label="Toggle navigation"
    (click)="toggleMenu()"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
</nav>
